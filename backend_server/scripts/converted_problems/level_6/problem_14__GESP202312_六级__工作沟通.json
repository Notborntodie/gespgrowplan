{
  "title": "[GESP202312 六级] 工作沟通",
  "description": "某公司有 $N$ 名员工，编号从 $0$ 至 $N-1$。其中，除了 $0$ 号员工是老板，其余每名员工都有一个直接领导。我们假设编号为 $i$ 的员工的直接领导是 $f_i$。\r\n\n\t    该公司有严格的管理制度，每位员工只能受到本人或直接领导或间接领导的管理。具体来说，规定员工 $x$ 可以管理员工 $y$，当且仅当 $x=y$，或 $x=f_y$，或 $x$ 可以管理 $f_y$。特别地，$0$ 号员工老板只能自我管理，无法由其他任何员工管理。\r\n\n\t    现在，有一些同事要开展合作，他们希望找到一位同事来主持这场合作，这位同事必须能够管理参与合作的所有同事。如果有多名满足这一条件的员工，他们希望找到编号最大的员工。你能帮帮他们吗？",
  "input_format": "第一行一个整数 $N$，表示员工的数量。\r\n\n\t    第二行 $N - 1$ 个用空格隔开的正整数，依次为 $f_1,f_2,\\dots f_{N−1}$。\r\n\n\t    第三行一个整数 $Q$，表示共有 $Q$ 场合作需要安排。\r\n\n\t    接下来 $Q$ 行，每行描述一场合作：开头是一个整数 $m$（$2 \\le m \\le N$），表示参与本次合作的员工数量；接着是 $m$ 个整数，依次表示参与本次合作的员工编号（保证编号合法且不重复）。\r\n\n\t    保证公司结构合法，即不存在任意一名员工，其本人是自己的直接或间接领导。",
  "output_format": "输出 $Q$ 行，每行一个整数，依次为每场合作的主持人选。",
  "data_range": "样例解释 1\r\n\n\t对于第一场合作，员工$3,4$ 有共同领导 $2$ ，可以主持合作。\r\n\n\t对于第二场合作，员工 $2$ 本人即可以管理所有参与者。\r\n\n\t对于第三场合作，只有 $0$ 号老板才能管理所有员工。\r\n\n\t输入样例2\r\n\n7\r\n0 1 0 2 1 2\r\n5\r\n2 4 6\r\n2 4 5\r\n3 4 5 6\r\n4 2 4 5 6\r\n2 3 4\r\n\n\t样例2输出\r\n\n2\r\n1\r\n1\r\n1\r\n0\r\n\n\t数据范围\r\n\n\t对于 $50\\%$ 的测试点，保证 $N \\leq 50$。\r\n\n\t对于所有测试点，保证 $3 \\leq N \\leq 300$，$Q \\leq 100$。",
  "time_limit": 1000,
  "memory_limit": 128,
  "level": 6,
  "publish_date": "2023-12-01",
  "samples": [
    {
      "input": "5\r\n0 0 2 2\r\n3\r\n2 3 4\r\n3 2 3 4\r\n2 1 4",
      "output": "2\r\n2\r\n0",
      "explanation": "样例",
      "is_hidden": false,
      "sort_order": 1
    },
    {
      "input": "7\n0 1 0 2 1 2\n5\n2 4 6\n2 4 5\n3 4 5 6\n4 2 4 5 6\n2 3 4",
      "output": "2\n1\n1\n1\n0",
      "explanation": "test",
      "is_hidden": true,
      "sort_order": 2
    },
    {
      "input": "3\n0 0\n2\n2 1 2\n2 0 1",
      "output": "0\n0",
      "explanation": "test_1",
      "is_hidden": true,
      "sort_order": 3
    },
    {
      "input": "6\n0 1 2 3 4\n2\n3 1 3 5\n2 2 5",
      "output": "1\n2",
      "explanation": "test_2",
      "is_hidden": true,
      "sort_order": 4
    },
    {
      "input": "8\n0 0 1 1 2 2 3\n3\n2 5 6\n3 3 5 7\n4 1 3 5 7",
      "output": "2\n0\n0",
      "explanation": "test_3",
      "is_hidden": true,
      "sort_order": 5
    },
    {
      "input": "9\n0 0 0 1 1 2 2 3\n4\n2 4 5\n2 6 7\n3 4 6 8\n2 8 5",
      "output": "1\n2\n0\n0",
      "explanation": "test_4",
      "is_hidden": true,
      "sort_order": 6
    },
    {
      "input": "4\n0 1 1\n2\n2 2 3\n3 0 2 3",
      "output": "1\n0",
      "explanation": "test_5",
      "is_hidden": true,
      "sort_order": 7
    },
    {
      "input": "10\n0 0 2 2 4 4 6 6 8\n2\n5 1 3 5 7 9\n2 8 9",
      "output": "0\n8",
      "explanation": "test_6",
      "is_hidden": true,
      "sort_order": 8
    },
    {
      "input": "6\n0 1 0 3 3\n3\n2 2 5\n3 1 2 5\n2 4 5",
      "output": "0\n0\n3",
      "explanation": "test_7",
      "is_hidden": true,
      "sort_order": 9
    },
    {
      "input": "7\n0 0 0 0 0 0\n2\n4 1 2 3 4\n3 5 6 0",
      "output": "0\n0",
      "explanation": "test_8",
      "is_hidden": true,
      "sort_order": 10
    },
    {
      "input": "8\n0 1 2 0 4 5 6\n3\n2 3 7\n2 4 7\n3 3 4 7",
      "output": "0\n4\n0",
      "explanation": "test_9",
      "is_hidden": true,
      "sort_order": 11
    }
  ]
}