# GESP 远程API测试工具

这个目录包含了用于测试远程API连接的脚本工具。

## 文件说明

- `test_remote_api.js` - 完整的API测试脚本，包含详细的测试报告
- `quick_api_test.js` - 快速API连接测试脚本
- `package-test.json` - 测试依赖配置文件

## 使用方法

### 1. 安装依赖

```bash
# 安装axios依赖
npm install axios

# 或者使用提供的package.json
cp package-test.json package.json
npm install
```

### 2. 运行快速测试

```bash
node quick_api_test.js
```

这个脚本会快速测试以下API端点：
- 获取考试列表
- 获取题目列表
- 获取知识点列表
- 获取可用题目
- 获取提交记录

### 3. 运行完整测试

```bash
node test_remote_api.js
```

这个脚本会进行更全面的测试，包括：
- 服务器连接测试
- 用户相关API（登录、注册）
- 考试相关API
- 题目相关API
- 提交相关API
- 图片上传API

## 测试结果说明

### 成功指标
- ✅ 绿色：API调用成功
- 显示响应时间、状态码、返回数据信息

### 失败指标
- ❌ 红色：API调用失败
- 显示错误信息、状态码（如果有）

### 性能指标
- 平均响应时间
- 成功率统计

## 预期结果

如果远程服务器正常运行，您应该看到：
- 大部分GET请求成功（状态码200）
- POST请求可能返回401（未授权）或400（参数错误），这是正常的
- 平均响应时间在100-500ms之间

## 故障排除

### 如果所有测试都失败
1. 检查网络连接
2. 确认服务器地址 `http://106.14.143.27:3000` 是否正确
3. 确认服务器是否正在运行

### 如果部分测试失败
1. 检查具体的错误信息
2. 确认API端点是否正确
3. 检查服务器日志

### 常见错误
- `ECONNREFUSED`: 服务器未运行或端口被阻止
- `ETIMEDOUT`: 网络超时，可能是网络问题
- `401 Unauthorized`: 需要认证，这是正常的
- `404 Not Found`: API端点不存在

## 自定义测试

您可以修改脚本中的 `BASE_URL` 变量来测试不同的服务器：

```javascript
const BASE_URL = 'http://your-server-ip:3000/api';
```

## 注意事项

- 测试脚本不会修改任何数据
- 某些API可能需要认证才能访问
- 图片上传测试使用模拟数据，不会实际上传文件
- 测试超时设置为5-10秒，适合大多数网络环境
